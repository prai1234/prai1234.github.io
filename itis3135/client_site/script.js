    const albums = {
      1: {
        image: 'Album1.jpg',
        tracks: [
          {
            title: '00 HIMALKO KAAKH',
            audio: '16 HIMALKO KAAKH.mp3',
            lyrics: `Lyrics for Album 1...`
          }
        ]
      },
      2: {
        image: 'Album2.jpg',
        tracks: [
          {
            title: '01 BAHANA LEY',
            audio: '01 BAHANA LEY.mp3',
            lyrics: `Verse 1
Bahana ley ta timi tadha bhayau
Kina kina chupchap bida bhayau
Ma ta timro parkhai ma basirahe
Timi ta pachhi farkiyena
(English)
With excuses, you distanced yourself from me  
For some reason, you quietly left  
I kept sitting, waiting for you  
But you never came back

Verse 2
Din haru ta khasai sajilai gaye
Raat haru ta anidrai gaye
Mann bhitra tyo samjhana jali
Timi bhayepachi sabai bhulna sakin
(English)
The days passed quite easily  
But the nights went sleepless  
That memory burned within my heart  
Once you left, I couldn't forget anything

Chorus
Bahana ley maya garyo jasto garera
Sacheko mutu ma kasto ghaau diyau
Bhagera ta gayera jindagi bata
Malai birsane kura kasari sochyau?
(English)
You pretended to love me using excuses  
You wounded my honest heart so deeply  
You ran away from my life  
How could you even think of forgetting me?

Verse 3
Jati maya garyo teti nai dukhyo
Timi binako jindagi sunyota bharyo
Aankhama aasha, mutu ma maya
Timi gayepachi sabai adhuro bhayo
(English)
The more I loved, the more it hurt  
Life without you filled with emptiness  
Hope in the eyes, love in the heart  
But after you left, everything felt incomplete

Chorus (Repeat)
Bahana ley maya garyo jasto garera
Sacheko mutu ma kasto ghaau diyau
Bhagera ta gayera jindagi bata
Malai birsane kura kasari sochyau?
(English)
You pretended to love me using excuses  
You wounded my honest heart so deeply  
You ran away from my life  
How could you even think of forgetting me?`
          },
          {
            title: '02 LA HAI',
            audio: '02 LA HAI.mp3',
            lyrics: `Segment 1
La hai maya timilai
Yo dil ko gahirai
Bujhna yaar timile
Yo mutu ko sachchai
(English)
Take this love, it’s for you  
From the depths of this heart  
Try to understand, my dear  
This heart speaks the truth

Segment 2
Timi sangai bitayeko
Pal haru anmol chhan
Tyo hansi, tyo maya
Aaja ni samjhana aunchhan
(English)
The moments spent with you  
Are priceless memories  
That smile, that love  
Still return to me today

Segment 3
Timi bina jindagi
Adhuro adhuro lagcha
Timro samjhana bhitra
Mero mutu harauchha
(English)
Life without you  
Feels so incomplete  
Within your memories  
My heart gets lost

Segment 4
Timi mero sapana ma
Aai rakheu rati din
Bhaye pani sachcha bhan
Timi ni samjhau chhin?
(English)
In my dreams  
You keep appearing day and night  
But tell me truly  
Do you remember me too?

Segment 5
La hai feri ek choti
Maya dinchu timilai
Yo mutu ko har ek dhadkan
Sadar garchu timilai
(English)
Here, once again  
I give you my love  
Every heartbeat of this heart  
Is a tribute to you`
          },
          {
            title: '03 JABA SANJH',
            audio: '03 JABA SANJH.mp3',
            lyrics: `Verse 1
Jaba sanjh parcha
Timro samjhana aaucha
Tyo purano gali
Mero aankhama aaucha
(English)
When evening falls, your memory returns.  
That old alley appears in my eyes.

Verse 2
Timi sanga bitayeka
Pal haru le rulauchhan
Tyo maya ko samjhana
Aaja ni dukha dinca
(English)
The moments I spent with you still make me cry.  
The memory of that love still hurts even today.

Verse 3
Timi ta kata harayau
Ma ta yahi rahe
Timi nai bhaye jasto
Yo sansar ma kaha chhe?
(English)
You vanished somewhere, but I stayed here.  
Is there anyone in this world like you?

Verse 4
Yo mutu ko kone ma
Timro naam lekheko chha
Timilai bhule jasto garna
Sajilo ta chhaina
(English)
In one corner of my heart, your name is written.  
It’s not easy to pretend I’ve forgotten you.

Verse 5
Tyo sanjh, tyo jun, tyo bato
Timro yaad sangai jodiyeko
Aba jati bhule ni
Timro maya ta rahanchha
(English)
That evening, that moon, that path—they are tied to your memory.  
No matter how hard I try, your love remains.

Verse 6
Yo andhyaro raat ma
Timi nai timi samjhi rahanchhu
Jaba sanjh parcha
Ma bhitra timi nai baschhau
(English)
In this dark night, I keep thinking only of you.  
When evening falls, you live inside me.`
          },
          {
            title: '04 AAYO FERI',
            audio: '04 AAYO FERI.mp3',
            lyrics: `Verse 1
Aayo feri tyo din
Jun din timilai bheteko
Tyo muskan le feri
Mero mutu chhuyo
(English)
That day has come again—  
The day I met you.  
That smile once again  
Touched my heart.

Verse 2
Kati bela timro
Yaad le din bhar samauchha
Herna sakdina aankha
Bheti hunchha sabda ma
(English)
So often your memory  
Surrounds me all day long.  
I can’t lift my eyes—  
They meet you in every word.

Verse 3
Timi binako sansar
Khali khali lagchha
Timi sangai bitayeka
Pal haru anmol chhan
(English)
The world without you  
Feels empty and hollow.  
The moments spent with you  
Are truly priceless.

Verse 4
Aankha bhari timro tasbir
Mutu bhari timro naam
Aayo feri tyo din
Jaba mutu le pukarcha
(English)
My eyes are filled with your picture,  
Your name is written in my heart.  
That day has returned again—  
When my heart cries out for you.

Verse 5
Samjhana le risaune
Mutu le feri manaune
Yo maya ta balcha
Jaba timi ta bhagcha
(English)
Memories get angry,  
But the heart forgives again.  
This love keeps burning—  
Whenever you run away.

Verse 6
Feri bolau chu timilai
Samjhi samjhi herchu ma
Mutu ko kunai kone ma
Timro maya baschha
(English)
Again I call out to you,  
Watching and remembering you.  
In one corner of my heart,  
Your love still lives.`
          },
          {
            title: '05 ADHARMAA',
            audio: '05 ADHARMAA.mp3',
            lyrics: `Verse 1
Adharmaa timro saath ma jindagi
Timi bhaye pachhi sabai asan bhayo
Jaba andhakar chha bhanincha
Timi nai ujyalo banincha
(English)
In the darkness, my life holds on with your presence.  
When you're here, everything becomes easier.  
Even when it's dark,  
You become the light that shines through.

Verse 2
Mero har subha timi le dinchhau
Har ek samaya timi ma linchhau
Bola timi, yo mutu le suncha
Timi ko maya ma jeevan le junchha
(English)
You give me every morning,  
You fill each moment with yourself.  
When you speak, my heart listens—  
In your love, this life finds meaning.

Verse 3
Tyo bato jaba ajhai andhyaro chha
Tyo raat jaba anidra ko chha
Timi ko ek muskan le
Yo mutu shital huncha
(English)
When the path is still dark,  
When the night is sleepless—  
Your one smile  
Brings peace to my heart.

Verse 4
Timi nai ta hau jindagiko sahara
Timi nai ta yo sansar ma pyaara
Tyo maya, tyo samjhana, tyo ris
Sabaima timro chhaya chha bis
(English)
You are the support of my life,  
You are the one I love most in this world.  
In that love, that memory, even the anger—  
There is your presence in all of it.

Verse 5
Kahile maya le, kahile bedana le
Yo mutu timro katha bhancha
Timi bhaye jasto lagcha
Sabai thau ma timrai sansar chha
(English)
Sometimes through love, sometimes through pain,  
This heart tells your story.  
It feels like you are here—  
Everywhere, it's your world.`
          },
          {
            title: '06 BICHALIT',
            audio: '06 BICHALIT.mp3',
            lyrics: `Verse 1
Bichalit bhayo yo mutu
Jaba timro samjhana aayo
Yo akha bhari bhari
Aansule bharincha aayo
(English)
This heart became restless  
When your memory returned.  
These eyes filled up again,  
Overflowing with tears.

Verse 2
Jaba birsanu khoje
Tyo maya le rokcha
Bhule jasto gare ni
Man timi nai tokcha
(English)
Whenever I try to forget,  
Love stops me in my tracks.  
Even if I pretend I’ve forgotten,  
My heart still turns to you.

Verse 3
Timi kata harayau
Yo jindagi bhari sodhe
Bina uttar timi
Sapana ma aayera bodhe
(English)
Where did you disappear?  
I’ve asked all my life.  
Without any answer,  
You came to me only in dreams.

Verse 4
Samaya le laijane chhoto katha
Yo maya le banaune lamo yatra
Bichalit chha yo man
Tar timilai nai chahanchha
(English)
Time carries away a short story,  
But love creates a long journey.  
Though my mind is restless,  
It still longs only for you.

Verse 5
Yadi timi sunna sakchhau
Yo dhadkan haru ko rodan
Bhujhne chhau timi
Kati chhoto bhayo mero jeevan
(English)
If you could hear  
The cry of these heartbeats,  
You would understand  
How short my life has become without you.`
          },
          {
            title: '07 SENORITA',
            audio: '07 SENORITA.mp3',
            lyrics: `Verse 1
Senorita, timro aankha ko maya
Tyo muskan le ma chhayan bhanchhu
Nachau timi sangai yo dhun ma
Jaba bajcha mann ko baja
(English)
Senorita, the love in your eyes—  
With that smile, I lose myself.  
Let’s dance together to this rhythm  
As the music of the heart plays.

Verse 2
Raat bhar timro baat haru
Mero man ma ghumirahincha
Timi ta sapana jasto
Jun aankha bandai dekhirahincha
(English)
All night, your words  
Keep spinning in my mind.  
You are like a dream  
I keep seeing even with closed eyes.

Verse 3
Senorita, tyo challa, tyo style
Timi hidiye ta sansar nai mile
Yo mutu ta timi sangai nachchha
Yo maya le ajha jali junchha
(English)
Senorita, that grace, that style—  
When you walk, the world seems to shine.  
My heart dances with you,  
And love burns brighter than ever.

Verse 4
Timi sangai ta ho jindagi
Yo geet le bhaniraheko chha
Mero sansar timi bhitra
Yo raat ajha ramailo chha
(English)
Life is meant to be with you—  
That’s what this song keeps saying.  
My whole world is inside you,  
And this night feels even more joyful.

Verse 5
Senorita, mero naam timro lips ma
Timi bhane pachi dhadkan badchha
Aaja malai arko kehi chhaina
Bas timi sangai nachna man chha
(English)
Senorita, my name on your lips—  
When you say it, my heartbeat races.  
Tonight, I want nothing else,  
Just to dance with you.`
          }
        ]
      },
      3: {
        image: 'Album3.jpg',
        tracks: [
          {
            title: '01 MANGSIR',
            audio: '08 MANGSIR.mp3',
            lyrics: 'Lyrics for Album 3...'
          }
        ]
      },
      4: {
        image: 'album4.jpg',
        tracks: [
          {
            title: '00 INTRO',
            audio: '14 INTRO.mp3',
            lyrics: 'Lyrics for Album 4...'
          }
        ]
      }
    };

    let currentAlbum = null;
    const slide    = document.getElementById('albumSlide');
    const slideImg = document.getElementById('slideImage');
    const selector = document.getElementById('trackSelector');
    const srcTag   = document.getElementById('audioSource');
    const player   = document.getElementById('audioPlayer');
    const lyricsEl = document.getElementById('lyrics');

    // 1) changeTrack must be defined before it's used in openSlide
    function changeTrack(idx) {
      const t = currentAlbum.tracks[idx];
      srcTag.src = t.audio;
      player.load();
      lyricsEl.textContent = t.lyrics;
    }

    // 2) openSlide can now safely call changeTrack
    function openSlide(id) {
      currentAlbum = albums[id];
      slideImg.src = currentAlbum.image;
      selector.innerHTML = '';
      currentAlbum.tracks.forEach((t, i) => {
        const opt = document.createElement('option');
        opt.value = i;
        opt.textContent = t.title;
        selector.append(opt);
      });
      changeTrack(0);
      slide.style.display = 'flex';
    }

    function closeSlide() {
      slide.style.display = 'none';
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.album').forEach((el) => {
        el.addEventListener('click', () => openSlide(el.dataset.album));
      });
      document.querySelector('.close').addEventListener('click', closeSlide);
      selector.addEventListener('change', () => changeTrack(selector.value));
    });
