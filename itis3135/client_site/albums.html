<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Albums - Manoj K. Rai</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://lint.page/kit/4d0fe3.js" crossorigin="anonymous"></script>
</head>
<body>
  <header>
    <div data-include="components/header.html"></div>
  </header>
  <main>
    <h1>Albums</h1>
    <p>Discover the albums by Manoj K. Rai.</p>
    <!-- Albums Grid -->
    <div class="albums">
      <div class="album" onclick="openSlide(1)">
        <img src="Album1.jpg" alt="Album 1" />
        <p>Bhutani Katha Batha</p>
      </div>
      <div class="album" onclick="openSlide(2)">
        <img src="Album2.jpg" alt="Album 2" />
        <p>Senoritan</p>
      </div>
      <div class="album" onclick="openSlide(3)">
        <img src="Album3.jpg" alt="Album 3" />
        <p>Spandhan</p>
      </div>
      <div class="album" onclick="openSlide(4)">
        <img src="album4.jpg" alt="Album 4" />
        <p>Sradhanjali</p>
      </div>
    </div>
    <!-- Slide Show Modal -->
    <div id="albumSlide" class="slide" style="display: none; align-items: center; justify-content: center;">
      <span class="close" onclick="closeSlide()">×</span>
      <div class="slide-content">
        <!-- Placeholder src ensures validity; will be replaced on openSlide() -->
        <img id="slideImage"
             src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="
             alt="Album Image"
             style="max-width: 90%; max-height: 80vh; object-fit: contain;" />
        <div id="slideDetails">
          <h2>Playlist</h2>
          <select id="trackSelector" onchange="changeTrack(this.value)"></select>
          <h2>Audio</h2>
          <audio id="audioPlayer" controls style="width: 100%; margin-bottom: 10px;">
            <!-- initial src can be anything valid but will be updated in changeTrack() -->
            <source id="audioSource" src="16 HIMALKO KAAKH.mp3" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>
          <h2>Lyrics</h2>
          <div id="lyrics" style="white-space: pre-line; max-height: 50vh; overflow-y: auto;"></div>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <div data-include="components/footer.html"></div>
  </footer>

  <script>
    const albums = {
      1: {
        image: 'Album1.jpg',
        tracks: [
          { title: '00 HIMALKO KAAKH', audio: '16 HIMALKO KAAKH.mp3', lyrics: 'Lyrics for Album 1...' }
        ]
      },
      2: {
        image: 'Album2.jpg',
        tracks: [
          {
            title: '01 BAHANA LEY',
            audio: '01 BAHANA LEY.mp3',
            lyrics: `…full Nepali + English lyrics…`
          },
          {
            title: '02 LA HAI',
            audio: '02 LA HAI.mp3',
            lyrics: `…full Nepali + English lyrics…`
          },
          {
            title: '03 JABA SANJH',
            audio: '03 JABA SANJH.mp3',
            lyrics: `…full Nepali + English lyrics…`
          },
          {
            title: '04 AAYO FERI',
            audio: '04 AAYO FERI.mp3',
            lyrics: `…full Nepali + English lyrics…`
          },
          {
            title: '05 ADHARMAA',
            audio: '05 ADHARMAA.mp3',
            lyrics: `…full Nepali + English lyrics…`
          },
          {
            title: '06 BICHALIT',
            audio: '06 BICHALIT.mp3',
            lyrics: `…full Nepali + English lyrics…`
          },
          {
            title: '07 SENORITA',
            audio: '07 SENORITA.mp3',
            lyrics: `…full Nepali + English lyrics…`
          }
        ]
      },
      3: {
        image: 'Album3.jpg',
        tracks: [
          { title: '01 MANGSIR', audio: '08 MANGSIR.mp3', lyrics: 'Lyrics for Album 3...' }
        ]
      },
      4: {
        image: 'album4.jpg',
        tracks: [
          { title: '00 INTRO', audio: '14 INTRO.mp3', lyrics: 'Lyrics for Album 4...' }
        ]
      }
    };

    let currentAlbum = null;

    function changeTrack(index) {
      const track = currentAlbum.tracks[index];
      document.getElementById('audioSource').src = track.audio;
      document.getElementById('audioPlayer').load();
      document.getElementById('lyrics').textContent = track.lyrics;
    }

    function openSlide(albumId) {
      currentAlbum = albums[albumId];
      document.getElementById('slideImage').src = currentAlbum.image;
      const selector = document.getElementById('trackSelector');
      selector.innerHTML = '';
      currentAlbum.tracks.forEach((t, i) => {
        const opt = document.createElement('option');
        opt.value = i;
        opt.textContent = t.title;
        selector.appendChild(opt);
      });
      changeTrack(0);
      document.getElementById('albumSlide').style.display = 'flex';
    }

    function closeSlide() {
      document.getElementById('albumSlide').style.display = 'none';
    }
  </script>

  <script src="scripts/HTMLInclude.min.js"></script>
</body>
</html>
